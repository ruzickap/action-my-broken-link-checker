# Configuration for lychee link checker
# https://github.com/lycheeverse/lychee/blob/master/lychee.example.toml

#############################  Cache  ###############################

# Enable link caching to avoid checking the same links on multiple runs
cache = true

# Discard cached requests older than this duration
max_cache_age = "1d"

#############################  Runtime  #############################

# Maximum number of concurrent link checks
max_concurrency = 128

#############################  Requests  ############################

# Accept these status codes as valid (429 = rate limited, 999 = non-standard but valid)
accept = [429, 999]

#############################  Exclusions  ##########################

# Exclude URLs and mail addresses from checking (supports regex)
exclude = [
  # keep-sorted start
  # Ignore URLs with encoded braces - template variables in URLs
  '%7B.*%7D',
  # Ignore URLs with dollar signs - shell/environment variables
  '\$',
  # Ignore file:// protocol URLs - local filesystem links
  'file://',
  # Stack Exchange sites return 403 when accessed from GitHub Actions
  'stackexchange\.com',
  # Stack Overflow returns 403 when accessed from GitHub Actions
  'stackoverflow\.com',
  # keep-sorted end
]

# Exclude these filesystem paths from link checking
exclude_path = [
  "CHANGELOG.md",
  "package-lock.json",
]

# Exclude all private IP addresses from checking
# (includes private networks, link-local, and loopback addresses)
exclude_all_private = true
